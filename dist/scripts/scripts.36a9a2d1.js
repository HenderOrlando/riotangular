"use strict";angular.module("riotangularApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ui.router","ngMaterial"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("main",{url:"/",views:{mainView:{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"},sidenavRightView:{templateUrl:"views/sidenavright.html",controller:"SidenavrightCtrl",controllerAs:"sidenavright"}}}).state("about",{url:"/about",templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"})}]),angular.module("riotangularApp").controller("MainCtrl",["$mdSidenav","$rootScope","riot",function(a,b,c){function d(){a("left").toggle()}function e(){a("right").toggle()}function f(){return Object.keys(b.results)}function g(){b.show="json"}function h(){b.show="table"}function i(a,b,c){var d=Object.keys(a),e=!1;d.indexOf("id")>-1&&a.id&&(e=e||a.id),d.indexOf("name")>-1&&a.name&&(e=e||a.name),d.indexOf("description")>-1&&a.name&&(e=e||a.description);for(var f=0;f<d.length;f++)"id"!==d[f]&&"name"!==d[f]&&"description"!==d[f]&&(e=e||a[d[f]]);return e}function j(a,b,c){for(var d=Object.keys(a),e=!1,f=0;f<d.length&&(angular.isString(a[d[f]])&&(e=e||a[d[f]].toLowerCase().indexOf(k.query.toLowerCase())>-1),!e);f++);return e}console.log("MAIN");var k=this;k.toggleSideNavLeft=d,k.toggleSideNavRight=e,b.routes=c.getRoutes(),k.getResultKeys=f,k.showJson=g,k.showTable=h,k.orderBy=i,k.filter=j,k.query="",b.show="table"}]),angular.module("riotangularApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("riotangularApp").controller("SidenavCtrl",["riot","$mdSidenav",function(a,b){function c(a){return f[a]}function d(){b("left").close()}console.log("SIDENAV");var e=this,f=a.getMenu();e.menu=Object.keys(f),e.getSubmenu=c,e.toggleSubmenu=a.toggleSubmenu,e.isVisibleSubmenu=a.isVisibleSubmenu,e.openRoute=a.openRoute,e.close=d}]),angular.module("riotangularApp").controller("SidenavrightCtrl",["riot","$mdSidenav","$rootScope",function(a,b,c){function d(a){return h[a]}function e(){b("right").close()}function f(b,c){return a.getParameters(b,c)}console.log("SIDENAVRIGHT");var g=this,h=a.getMenu();c.database=a.getModels(),g.getParams=f,g.menu=Object.keys(h),g.getSubmenu=d,g.toggleSubmenu=a.toggleSubmenu,g.isVisibleSubmenu=a.isVisibleSubmenu,g.openRoute=a.openRoute,g.close=e,g.opciones=a.getOpcionesVal()}]),angular.module("riotangularApp").controller("IndexCtrl",function(){console.log("INDEX")}),angular.module("riotangularApp").service("riot",["$http","$q","$mdSidenav","$rootScope","$mdToast",function(a,b,c,d,e){function f(){return["champion","championmastery","current-game","featured-games","game","league","static-data","status","match","matchlist","stats","summoner","team"]}function g(a,b){var c={champion:{champion:["region"],championid:["region","id"]},championmastery:{championid:["platformid","playerid","championid"],champions:["platformid","playerid"],score:["platformid","playerid"],topchampions:["platformid","playerid"]},"current-game":{observer:["platformid","summonerid"]},"featured-games":{observer:[]},game:{gamesummoner:["region","summonerid"]},league:{summoner:["region","summonerids"],summonerentry:["region","summonerids"],team:["region","teamids"],teamentry:["region","teamids"],challenger:[[],[{value:"RANKED_SOLO_5X5",text:"RANKED_SOLO_5X5"},{value:"RANKED_TEAM_3X3",text:"RANKED_TEAM_3X3"},{value:"RANKED_TEAM_5X5",text:"RANKED_TEAM_5X5"}]],master:["region"]},"static-data":{champion:["region"],championid:["region","championid"],item:["region"],itemid:["region","itemid"],languagestring:["region"],languages:["region"],map:["region"],mastery:["region"],masteryid:["region","masteryid"],realm:["region"],rune:["region"],runeid:["region","runeid"],spell:["region"],spellid:["region","spellid"],version:["region"]},status:{shard:[],shardregion:["region"]},match:{matchid:["region","matchid"]},matchlist:{summoner:["summonerid"]},stats:{ranked:["summonerid"],summary:["region","summonerid"]},summoner:{summoner:["region","summonernames"],perfil:["region","summonerids"],masteries:["region","summonerids"],name:["region","summonerids"],runes:["region","summonerids"]},team:{summoner:["region","summonerids"],team:["region","teamids"]}};return a&&(c=c[a],b&&(c=c[b])),c}function h(a,b){var c={champion:{champion:["region"],championid:["region","id"]},championmastery:{championid:["platformid","playerid","championid"],champions:["platformid","playerid"],score:["platformid","playerid"],topchampions:["platformid","playerid"]},"current-game":{observer:["platformid","summonerid"]},"featured-games":{observer:[]},game:{gamesummoner:["region","summonerid"]},league:{summoner:["region","summonerids"],summonerentry:["region","summonerids"],team:["region","teamids"],teamentry:["region","teamids"],challenger:["region","typechallenger.opts"],master:["region"]},"static-data":{champion:["region"],championid:["region","championid"],item:["region"],itemid:["region","itemid"],languagestring:["region"],languages:["region"],map:["region"],mastery:["region"],masteryid:["region","masteryid"],realm:["region"],rune:["region"],runeid:["region","runeid"],spell:["region"],spellid:["region","spellid"],version:["region"]},status:{shard:[],shardregion:["region"]},match:{matchid:["region","matchid"]},matchlist:{summoner:["summonerid"]},stats:{ranked:["summonerid"],summary:["region","summonerid"]},summoner:{summoner:["region","summonernames"],perfil:["region","summonerids"],masteries:["region","summonerids"],name:["region","summonerids"],runes:["region","summonerids"]},team:{summoner:["region","summonerids"],team:["region","teamids"]}};return a&&(c=c[a],b&&(c=c[b])),c}function i(a){var b={champion:{champion:"/api/lol/{region}/v1.2/champion",championid:"/api/lol/{region}/v1.2/champion/{id}"},championmastery:{championid:"/championmastery/location/{platformId}/player/{playerid}/champion/{championid}",champions:"/championmastery/location/{platformId}/player/{playerid}/champions",score:"/championmastery/location/{platformId}/player/{playerid}/score",topchampions:"/championmastery/location/{platformId}/player/{playerid}/topchampions"},"current-game":{observer:"/observer-mode/rest/consumer/getSpectatorGameInfo/{platformid}/{summonerid}"},"featured-games":{observer:"/observer-mode/rest/featured"},game:{gamesummoner:"/api/lol/{region}/v1.3/game/by-summoner/{summonerid}/recent"},league:{summoner:"/api/lol/{region}/v2.5/league/by-summoner/{summonerids}",summonerentry:"/api/lol/{region}/v2.5/league/by-summoner/{summonerids}/entry",team:"/api/lol/{region}/v2.5/league/by-team/{teamids}",teamentry:"/api/lol/{region}/v2.5/league/by-team/{teamids}/entry",challenger:"/api/lol/{region}/v2.5/league/challenger",master:"/api/lol/{region}/v2.5/league/master"},"static-data":{champion:"/api/lol/static-data/{region}/v1.2/champion",championid:"/api/lol/static-data/{region}/v1.2/champion/{championid}",item:"/api/lol/static-data/{region}/v1.2/item",itemid:"/api/lol/static-data/{region}/v1.2/item/{itemid}",languagestring:"/api/lol/static-data/{region}/v1.2/language-strings",languages:"/api/lol/static-data/{region}/v1.2/languages",map:"/api/lol/static-data/{region}/v1.2/map",mastery:"/api/lol/static-data/{region}/v1.2/mastery",masteryid:"/api/lol/static-data/{region}/v1.2/mastery/{masteryid}",realm:"/api/lol/static-data/{region}/v1.2/realm",rune:"/api/lol/static-data/{region}/v1.2/rune",runeid:"/api/lol/static-data/{region}/v1.2/rune/{runeid}",spell:"/api/lol/static-data/{region}/v1.2/summoner-spell",spellid:"/api/lol/static-data/{region}/v1.2/summoner-spell/{spellid}",version:"/api/lol/static-data/{region}/v1.2/versions"},status:{shard:"/shards",shardregion:"/shards/{region}"},match:{matchid:"/api/lol/{region}/v2.2/match/{matchid}"},matchlist:{summoner:"/api/lol/{region}/v2.2/matchlist/by-summoner/{summonerid}"},stats:{ranked:"/api/lol/{region}/v1.3/stats/by-summoner/{summonerid}/ranked",summary:"/api/lol/{region}/v1.3/stats/by-summoner/{summonerid}/summary"},summoner:{summoner:"/api/lol/{region}/v1.4/summoner/by-name/{summonernames}",perfil:"/api/lol/{region}/v1.4/summoner/{summonerids}",masteries:"/api/lol/{region}/v1.4/summoner/{summonerids}/masteries",name:"/api/lol/{region}/v1.4/summoner/{summonerids}/name",runes:"/api/lol/{region}/v1.4/summoner/{summonerids}/runes"},team:{summoner:"/api/lol/{region}/v2.4/team/by-summoner/{summonerids}",team:"/api/lol/{region}/v2.4/team/{teamids}"}};return a&&(b=b[a]),b}function j(a){var b=i(a);return b=b?Object.keys(b):[]}function k(){for(var a=f(),b=[],c=0;c<a.length;c++)b[a[c]]=j(a[c]);return console.log(b),b}function l(){return d.database}function m(a,b){var d=i(a),e=d[b];e&&(e=r+e);var f=l(),g=!0;return angular.forEach(h(a,b),function(a){e=e.replace("{"+a+"}",f[a]),console.log(f),console.log(a),console.log(f[a]),g&&(g=!!f[a])}),console.log(e),g||(e=!1,c("right").open()),e}function n(c,f){var g=m(c,f);return g?a.get(g,{params:{api_key:s}}).then(function(a){if(console.log(a),a.data){var b=a.data;b.champions?b=b.champions:b.data&&(b=b.data),t[c]||(t[c]={}),t[c][f]=b}}).then(function(){if(v=c+f,t[c]&&t[c][f]){var a=[],b={};if(angular.isArray(t[c][f]))a=t[c][f],b=a[0];else if(angular.isObject(t[c][f]))for(var e=Object.keys(t[c][f]),b=t[c][f][e[0]],g=0;g<e.length;g++)a.push(t[c][f][e[g]]);a.length&&(d.results=angular.toJson(t[c][f],!0),d.resultsTable=a,angular.isObject(b)?d.resultsKeys=Object.keys(b):(d.resultsKeys=[],d.resultsTable=[],d.show="json"))}},function(a){console.log(a),e.show("Error procesando datos")}):b.reject("Ruta no válida")}function o(a){return u.indexOf(a)>-1}function p(a,b){return v===a+b}function q(a){var b=u.indexOf(a);b>-1?u.splice(b,1):u.push(a)}var r="https://global.api.pvp.net",s="bd59bc2a-9cb5-4b03-ac0d-aff637f8337a",t={},u=[],v="";return d.database={region:"las"},d.opciones=g(),{getGroups:f,getRoutes:i,getSubmenu:j,getMenu:k,openRoute:n,toggleSubmenu:q,isVisibleSubmenu:o,isActiveSubmenu:p,getParameters:h,getModels:l,getOpcionesVal:g}}]),angular.module("riotangularApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/index.html",'<md-toolbar md-scroll-shrink> <div class="md-toolbar-tools"> <md-button ng-click="main.toggleSideNavLeft()" class="md-accent" hide-gt-md> Menu </md-button> <h2> <span>Toolbar with Icon Buttons</span> </h2> <span flex></span> <md-button ng-click="main.toggleSideNavRight()" class="md-accent"> Configurar </md-button> </div> </md-toolbar> <md-content flex layout-padding> <div layout="column" layout-fill layout-align="top center"> <p> The left sidenav will \'lock open\' on a medium (>=960px wide) device. </p> <p> The right sidenav will focus on a specific child element. </p> </div> </md-content>'),a.put("views/main.html",'<md-toolbar md-scroll-shrink> <div class="md-toolbar-tools"> <md-button ng-click="main.toggleSideNavLeft()" class="md-accent" hide-gt-md> Menu </md-button> <h2 flex style="text-align: center"> <span>Consulta de Api - Riot Games</span> </h2> <md-button ng-click="main.toggleSideNavRight()" class="md-accent" hide-gt-md> Configurar </md-button> </div> </md-toolbar> <md-content flex layout-padding layout="column"> <div layout="column" layout-fill layout-align="top center"> Seleccione el menú y configure los parámetros para realizar la busqueda </div> <md-input-container flex> <label>Buscar</label> <input ng-model="main.query"> </md-input-container> <div layout="row"> <div flex> <md-button layout-fill ng-click="main.showTable()" class="md-accent md-raised" ng-disabled="show !== \'json\'"> Presentar en Tabla </md-button> </div> <div flex> <md-button layout-fill ng-click="main.showJson()" class="md-accent md-raised" ng-disabled="show !== \'table\'"> Presentar en JSON </md-button> </div> </div> <div> <table ng-show="show === \'table\'"> <thead md-whiteframe="2"> <tr> <td ng-repeat="cab in resultsKeys" md-whiteframe="3" class="md-headline"> {{ cab }} </td> </tr> </thead> <tbody> <tr ng-repeat="item in resultsTable | orderBy: main.orderBy | filter: main.filter"> <td ng-repeat="(attr, value) in item" md-whiteframe="1"> {{ ::value }} </td> </tr> </tbody> </table> <pre ng-show="show === \'json\'">\n            {{ results }}\n        </pre> </div> </md-content>'),a.put("views/sidenav.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia(\'gt-md\')"> <md-toolbar class="md-accent md-hue-1"> <div class="md-toolbar-tools" layout-row> <md-button ng-click="sidenavright.close()" class="md-primary md-raised" hide-gt-md> Cerrar </md-button> <h1 style="text-align: right" flex>Menu</h1> </div> </md-toolbar> <md-content> <div layout="column"> <div ng-repeat="item in sidenav.menu"> <md-button layout-fill class="md-accent md-hue-1" ng-class="{\'md-raised\': sidenav.isVisibleSubmenu(item)}" ng-click="sidenav.toggleSubmenu(item)"> {{::item}} </md-button> <div ng-show="sidenav.isVisibleSubmenu(item)"> <md-button ng-repeat="subitem in sidenav.getSubmenu(item)" class="md-primary" ng-class="{\'md-hue-3\': sidenav.isActiveSubmenu(item, subitem)}" ng-click="sidenav.openRoute(item, subitem)"> {{::subitem}} </md-button> </div> <md-divider ng-if="!$last"></md-divider> </div> </div> </md-content> </md-sidenav>'),a.put("views/sidenavright.html",'<md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id="right" md-is-locked-open="$mdMedia(\'gt-md\')"> <md-toolbar class="md-accent md-hue-1"> <div class="md-toolbar-tools" layout-row> <h1 flex>Parametros</h1> <md-button ng-click="sidenavright.close()" class="md-primary md-raised" hide-gt-md> Cerrar </md-button> </div> </md-toolbar> <md-content> <div layout="column"> <div ng-repeat="item in sidenavright.menu"> <md-button layout-fill class="md-accent md-hue-1" ng-class="{\'md-raised\': sidenavright.isVisibleSubmenu(item)}" ng-click="sidenavright.toggleSubmenu(item)"> {{::item}} </md-button> <div ng-show="sidenavright.isVisibleSubmenu(item)"> <div ng-repeat="subitem in sidenavright.getSubmenu(item)"> <md-input-container flex ng-repeat="param in sidenavright.getParams(item, subitem)"> <label>{{ ::param }}</label> <input ng-if="param.indexOf(\'.opts\') < 0" ng-model="database[param]"> <md-select ng-if="param.indexOf(\'.opts\') > -1" ng-model="database[param]"> <md-option ng-repeat="opt in sidenavright.opciones[item][subitem][$index]" value="{{opt.value}}"> {{ opt.text}} </md-option> </md-select> </md-input-container> <md-button class="md-primary" ng-class="{\'md-hue-3\': sidenavright.isActiveSubmenu(item, subitem)}" ng-click="sidenavright.openRoute(item, subitem)"> Consultar "{{::subitem}}" </md-button> </div> </div> <md-divider ng-if="!$last"></md-divider> </div> </div> </md-content> </md-sidenav>')}]);